(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(5),o=n.n(r),s=n(8),i=n(3),u=(n(18),n(1)),l=function(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1];return Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(u.jsx)("button",{className:"SearchForm-button",type:"submit",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",value:r,onChange:function(e){o(e.target.value.trim())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})},j=(n(20),function(e){var t=e.children;return Object(u.jsx)("header",{className:"Searchbar",children:t})}),b=(n(21),function(e){var t=e.children;return Object(u.jsx)("section",{className:"section-images",children:t})}),m=function(e){var t=e.currentPage,n=e.query;return fetch("https://pixabay.com/api/?q=".concat(n,"&page=").concat(t,"&key=").concat("22163812-fdf68a623e9a64649f570bea3","&image_type=photo&orientation=horizontal&per_page=12\n  ")).then((function(e){return e.json()}))},d=(n(22),function(e){var t=e.smallImg,n=e.largeImg,c=e.tags,a=e.onModal;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{className:"ImageGalleryItem-image",src:t,"data-modal":n,alt:c,onClick:a})})}),f=(n(23),function(e){var t=e.listGallery,n=e.onImgClick;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.webformatURL,a=e.largeImageURL,r=e.tags;return Object(u.jsx)(d,{smallImg:c,largeImg:a,tags:r,onModal:n},t)}))})}),O=(n(24),function(e){var t=e.onClick;return Object(u.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})}),h=n(9),g=n(10),p=n(13),v=n(12),x=n(11),y=n.n(x),S=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(u.jsx)(y.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(c.Component),k=function(e){var t=e.message;return Object(u.jsx)("p",{children:t})},w=(n(45),document.querySelector("#root-modal")),I=function(e){var t=e.onClose,n=e.data;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);var a=n.src,o=n.alt;return Object(r.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:a,alt:o})})}),w)},N=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),d=o[0],h=o[1],g=Object(c.useState)(1),p=Object(i.a)(g,2),v=p[0],x=p[1],y=Object(c.useState)(null),w=Object(i.a)(y,2),N=w[0],C=w[1],F=Object(c.useState)(""),E=Object(i.a)(F,2),G=E[0],L=E[1],M=Object(c.useState)(!1),q=Object(i.a)(M,2),B=q[0],P=q[1],T=Object(c.useState)(""),D=Object(i.a)(T,2),J=D[0],R=D[1];Object(c.useEffect)((function(){n&&(L("padding"),m({query:n,currentPage:v}).then((function(e){h((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),L("resolved")})).catch((function(e){C(e),L("rejected")})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[n,v]),Object(c.useEffect)((function(){J&&P((function(e){return!e}))}),[J]);var U;return d.length>0&&"resolved"===G?U=Object(u.jsx)(O,{onClick:function(){x((function(e){return e+1}))}}):"padding"===G&&(U=Object(u.jsx)(S,{})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{children:Object(u.jsx)(l,{onSubmit:function(e){h([]),x(1),a(e)}})}),Object(u.jsxs)(b,{children:[Object(u.jsx)(f,{listGallery:d,onImgClick:function(e){if("IMG"===e.target.nodeName){var t=e.target.alt,n=e.target.dataset.modal;R({src:n,alt:t})}}}),U,"rejected"===G&&Object(u.jsx)(k,{message:N.message}),B&&Object(u.jsx)(I,{onClose:function(){P((function(e){return!e}))},data:J})]})]})};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.b66ab572.chunk.js.map