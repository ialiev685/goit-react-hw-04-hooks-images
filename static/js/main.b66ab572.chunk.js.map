{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Header/Header.jsx","components/Section/Section.jsx","services/PixabayApi.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/ButtonLoadMore/ButtonLoadMore.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/Modal/Modal.jsx","components/App.js","index.js"],"names":["Searchbar","onSubmit","useState","searchName","setSearchName","className","e","preventDefault","type","value","onChange","target","trim","autoComplete","autoFocus","placeholder","Header","children","Section","PixabayApi","currentPage","query","fetch","then","response","json","ImageGalleryItem","smallImg","largeImg","tags","onModal","src","alt","onClick","ImageGallery","listGallery","onImgClick","map","id","webformatURL","largeImageURL","ButtonLoadMore","Loader","color","height","width","timeout","Component","Error","message","rootModal","document","querySelector","Modal","onClose","data","useEffect","hadleKeyDown","code","window","addEventListener","removeEventListener","createPortal","currentTarget","App","setQuery","gallery","setGallery","setCurrentPage","error","setError","status","setStatus","showModal","setShowModal","dataModal","setDataModal","API","resolved","prevGallery","hits","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","prevShowModal","button","length","prevCurrentPage","nodeName","dataset","modal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b66ab572.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nimport './Searchbar.scss';\n\nconst Searchbar =({onSubmit})=> {\n\n\n  const [searchName, setSearchName] = useState('')\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n   onSubmit(searchName);\n\n   setSearchName('');\n  };\n\n  const handleChange = e => {\n   \n    setSearchName(e.target.value.trim())\n  };\n\n\n    return (\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button className=\"SearchForm-button\" type=\"submit\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          value={searchName}\n          onChange={handleChange}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    );\n  \n}\n\nexport default Searchbar;","import React from 'react';\n\nimport './Header.scss';\n\nconst Header = ({ children }) => {\n  return <header className=\"Searchbar\">{children}</header>;\n};\n\nexport default Header;\n","import React from 'react';\n\nimport './Section.scss';\n\nconst Section = ({ children }) => {\n  return <section className=\"section-images\">{children}</section>;\n};\n\nexport default Section;\n","const KEY = '22163812-fdf68a623e9a64649f570bea3';\n\nconst PixabayApi = ({ currentPage, query }) => {\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12\n  `).then(response => response.json());\n};\n\nexport default PixabayApi;\n","import \"./ImageGalleryItem.scss\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ smallImg, largeImg, tags, onModal }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        className=\"ImageGalleryItem-image\"\n        src={smallImg}\n        data-modal={largeImg}\n        alt={tags}\n        onClick={onModal}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./ImageGallery.scss\";\n\nconst ImageGallery = ({ listGallery, onImgClick }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {listGallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          smallImg={webformatURL}\n          largeImg={largeImageURL}\n          tags={tags}\n          onModal={onImgClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  listGallery: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nimport './ButtonLoadMore.scss';\n\nconst ButtonLoadMore = ({ onClick }) => {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default ButtonLoadMore;\n","import React, { Component } from 'react';\n\nimport LoaderSpinner from 'react-loader-spinner';\n\nexport default class Loader extends Component {\n  render() {\n    return (\n      <LoaderSpinner type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} timeout={3000} />\n    );\n  }\n}\n","const Error = ({ message }) => {\n  return <p>{message}</p>;\n};\n\nexport default Error;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport \"./Modal.scss\";\n\nconst rootModal = document.querySelector(\"#root-modal\");\n\nconst Modal = ({ onClose, data }) => {\n  useEffect(() => {\n    const hadleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        onClose();\n      }\n    };\n\n    window.addEventListener(\"keydown\", hadleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", hadleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const { src, alt } = data;\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleOverlayClick}>\n      <div className=\"Modal\">\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    rootModal\n  );\n};\n\nexport default Modal;\n","import React, { useState, useEffect } from \"react\";\n\nimport Searchbar from \"./Searchbar\";\n\nimport Header from \"./Header\";\n\nimport Section from \"./Section\";\n\nimport API from \"../services\";\n\nimport ImageGallery from \"./ImageGallery\";\n\nimport ButtonLoadMore from \"./ButtonLoadMore\";\n\nimport Loader from \"./Loader\";\n\nimport Error from \"./Error\";\n\nimport Modal from \"./Modal\";\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n\n  const [gallery, setGallery] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(\"\");\n\n  const [showModal, setShowModal] = useState(false);\n  const [dataModal, setDataModal] = useState(\"\");\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    setStatus(\"padding\");\n\n    const options = { query, currentPage };\n\n    API(options)\n      .then((resolved) => {\n        setGallery((prevGallery) => [...prevGallery, ...resolved.hits]);\n\n        setStatus(\"resolved\");\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus(\"rejected\");\n      })\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  }, [query, currentPage]);\n\n  useEffect(() => {\n    if (!dataModal) return;\n    setShowModal((prevShowModal) => !prevShowModal);\n  }, [dataModal]);\n\n  const hadleFormSubmit = (searchName) => {\n    setGallery([]);\n    setCurrentPage(1);\n    setQuery(searchName);\n  };\n\n  const nextPage = () => {\n    setCurrentPage((prevCurrentPage) => prevCurrentPage + 1);\n  };\n\n  const handleShowModal = (e) => {\n    if (e.target.nodeName === \"IMG\") {\n      const alt = e.target.alt;\n\n      const src = e.target.dataset.modal;\n      const dataImage = { src, alt };\n\n      setDataModal(dataImage);\n    }\n  };\n\n  const toggleModal = () => {\n    setShowModal((prevShowModal) => !prevShowModal);\n  };\n\n  let button;\n\n  if (gallery.length > 0 && status === \"resolved\") {\n    button = <ButtonLoadMore onClick={nextPage} />;\n  } else if (status === \"padding\") {\n    button = <Loader />;\n  }\n\n  return (\n    <>\n      <Header>\n        <Searchbar onSubmit={hadleFormSubmit} />\n      </Header>\n\n      <Section>\n        <ImageGallery listGallery={gallery} onImgClick={handleShowModal} />\n        {button}\n        {status === \"rejected\" && <Error message={error.message} />}\n\n        {showModal && <Modal onClose={toggleModal} data={dataModal} />}\n      </Section>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}